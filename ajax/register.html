<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>注册</title>
</head>
<script>
    window.onload = function () {


        btn.addEventListener("click",function(){
            var username = document.getElementById("username").value;
            var password = document.getElementById("password").value;
            var divInfo = document.getElementById("showInfo");
            var btn = document.getElementById("btn");

            var xhr = null;
            if(window.XMLHttpRequest){
                xhr = new XMLHttpRequest();
            }else{
                xhr = new ActiveXObject("Microsoft.XMLHTTP");
            }

            var url = "register.php"
            var param = "username="+username+"&password="+password;
            alert(username +','+password);
            xhr.open('post',url,true);
            xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded");
            xhr.send(param);

            xhr.onreadystatechange = function(){
                if(xhr.readyState == 4){
                    if(xhr.status == 200){
                        var data = xhr.responseText;
                        divInfo.innerHTML = data;
//                        if(data == 1){
//                            divInfo.innerHTML = "注册成功";
//                        }else{
//                            divInfo.innerHTML = "注册失败";
//                        }
                    }
                }

            }
        });
    }
</script>
<body>
    <div >
        <div id="showInfo"></div>
        <form>
            <p>用户名：<input type="text" id="username"/></p>
            <p>密  码: <input type="password" id="password"/></p>
            <input type="button" value="提交" id="btn"/>
        </form>
    </div>
</body>
</html>